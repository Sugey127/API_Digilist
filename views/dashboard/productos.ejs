<!DOCTYPE html>
<html lang="en">
    <%- include('../components/head')%>
<body>
      <div class="grid-container">
        <!-- Header -->
        <%- include('../components/header') %>
        <!-- End Header -->
        <!-- Sidebar -->
        <%- include('../components/sidebar') %>
        <!-- End Sidebar -->
              <!-- Main -->
      <main class="main-container">
        <div class="main-title">
          <p class="font-weight-bold">Panel administrativo de Productos</p>
        </div>

        <div class="main-cards">

          <div class="card">
            <div class="card-inner">
              <p class="text-primary">Productos</p>
              <span class="material-icons-outlined text-blue">inventory_2</span>
            </div>
            <span class="text-primary font-weight-bold">249</span>
          </div>

          <div class="card">
            <div class="card-inner">
              <p class="text-primary">Ordenes de compra</p>
              <span class="material-icons-outlined text-orange">add_shopping_cart</span>
            </div>
            <span class="text-primary font-weight-bold">83</span>
          </div>

          <div class="card">
            <div class="card-inner">
              <p class="text-primary">Ordenes de venta</p>
              <span class="material-icons-outlined text-green">shopping_cart</span>
            </div>
            <span class="text-primary font-weight-bold">79</span>
          </div>

          <div class="card">
            <div class="card-inner">
              <p class="text-primary">INVENTORY ALERTS</p>
              <span class="material-icons-outlined text-red">notification_important</span>
            </div>
            <span class="text-primary font-weight-bold">56</span>
          </div>
        </div>

      <div class="cards form-container">
        <label for="inputPassword5" class="form-label">Descripcion</label>
        <input type="text" id="inputPassword5" class="form-control" aria-describedby="passwordHelpBlock">
        <div id="passwordHelpBlock" class="form-text">
        </div>
        <label for="inputPassword5" class="form-label">Stock</label>
        <input type="number" id="inputPassword5" class="form-control" aria-describedby="passwordHelpBlock">
        <div id="passwordHelpBlock" class="form-text">
        </div>
        <label for="inputPassword5" class="form-label">Precio</label>
        <input type="number" id="inputPassword5" class="form-control" aria-describedby="passwordHelpBlock">
        <div id="passwordHelpBlock" class="form-text">
        </div>
        <label for="inputPassword5" class="form-label">Codigo</label>
        <input type="number" id="inputPassword5" class="form-control" aria-describedby="passwordHelpBlock">
        <div id="passwordHelpBlock" class="form-text">
        </div>

        <div class="cards form-container">
          <label for="">AÃ±o</label>
          <select class="form-select form-select-sm form-control" aria-label=".form-select-sm example">
            <% anios.forEach((anio) => { %>
                <option value="<%= anio.year %>"><%= anio.year %></option>
              <% }) %>
          </select>
  
          <label for="">Marca</label>
          <select class="form-select form-select-sm form-control" aria-label=".form-select-sm example">
            
            <% marcas.forEach((marc) => { %>
                
                <option value="<%= marc.marca %>"><%= marc.marca %></option>
              <% }) %>
          </select>

          <label for="">Modelo</label>
          <select class="form-select form-select-sm form-control" aria-label=".form-select-sm example">
            <% modelos.forEach((model)=> { %>
              
              <option value="<%= model.modelo %>"><%=model.modelo %></option>
           <% }) %>
          </select>

        <div class="d-grid gap-2">
          <button class="btn btn-dark" type="button">Agregar</button>
          <button class="btn btn-dark" type="button">Editar</button>
          <button class="btn btn-dark" type="button">Eliminar</button>
        </div>
      </div>

      <div class="cards">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Nombre</th>
              <th scope="col">Descripcion</th>
              <th scope="col">Stock</th>
              <th scope="col">Precio</th>
              <th scope="col">Codigo</th>
              <th scope="col">Descuento</th>
            </tr>
          </thead>
          <tbody>
            <% autopartes.forEach(autoparte=> {

            <tr>
              <th><%=autoparte.nombreAutoparte%></th>
              <td><%=autoparte.descripcion%></td>
              <td><%=autoparte.stock%></td>
              <td><%=autoparte.precio%></td>
              <td><%=autoparte.code_autoparte%></td>
              <td><%=autoparte.descuento%></td>
            </tr>    
            }) %>

          </tbody>
        </table>
      </div>
    </main>
  </div>
  <!-- Scripts -->
  <script>
    const [nom, des, stk, prec, code, desc] = document.querySelectorAll('.form-control');
    document.querySelector('.form-container').addEventListener('input', e => {
      if (e.target.className === 'form-control') {
          
        document.querySelectorAll('.btn')[0].href = `http://apidigilist-production.up.railway.app/digilist/web-registro-productos?nombreAutoparte=${nom.value}&descripcion=${des.value}&stock=${stk.value}&precio=${prec.value}&code_autoparte=${email.value}&descuento=${desc.value}`
      }
    });
  </script>
  <!-- ApexCharts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.35.3/apexcharts.min.js"></script>
  <!-- Custom JS -->
  <script src="../../public/js/sidebar.js"></script>
</body>

</html>